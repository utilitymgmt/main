(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[28],{

/***/ 178:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(120);
/* harmony import */ var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(121);
/* harmony import */ var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es_symbol_iterator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(123);
/* harmony import */ var core_js_modules_es_symbol_iterator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_symbol_iterator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(264);
/* harmony import */ var core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(83);
/* harmony import */ var core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es_map__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(250);
/* harmony import */ var core_js_modules_es_map__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_map__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(265);
/* harmony import */ var core_js_modules_es_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_get_prototype_of__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(119);
/* harmony import */ var core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es_reflect_construct__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(266);
/* harmony import */ var core_js_modules_es_reflect_construct__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_reflect_construct__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(124);
/* harmony import */ var core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(122);
/* harmony import */ var core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_modules_esnext_map_delete_all__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(251);
/* harmony import */ var core_js_modules_esnext_map_delete_all__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_delete_all__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_modules_esnext_map_every__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(252);
/* harmony import */ var core_js_modules_esnext_map_every__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_every__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_modules_esnext_map_filter__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(253);
/* harmony import */ var core_js_modules_esnext_map_filter__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_filter__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_modules_esnext_map_find__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(254);
/* harmony import */ var core_js_modules_esnext_map_find__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_find__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var core_js_modules_esnext_map_find_key__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(255);
/* harmony import */ var core_js_modules_esnext_map_find_key__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_find_key__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var core_js_modules_esnext_map_includes__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(256);
/* harmony import */ var core_js_modules_esnext_map_includes__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_includes__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var core_js_modules_esnext_map_key_of__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(257);
/* harmony import */ var core_js_modules_esnext_map_key_of__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_key_of__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var core_js_modules_esnext_map_map_keys__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(258);
/* harmony import */ var core_js_modules_esnext_map_map_keys__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_map_keys__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var core_js_modules_esnext_map_map_values__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(259);
/* harmony import */ var core_js_modules_esnext_map_map_values__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_map_values__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var core_js_modules_esnext_map_merge__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(260);
/* harmony import */ var core_js_modules_esnext_map_merge__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_merge__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var core_js_modules_esnext_map_reduce__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(261);
/* harmony import */ var core_js_modules_esnext_map_reduce__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_reduce__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var core_js_modules_esnext_map_some__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(262);
/* harmony import */ var core_js_modules_esnext_map_some__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_some__WEBPACK_IMPORTED_MODULE_22__);
/* harmony import */ var core_js_modules_esnext_map_update__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(263);
/* harmony import */ var core_js_modules_esnext_map_update__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_esnext_map_update__WEBPACK_IMPORTED_MODULE_23__);
/* harmony import */ var core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(125);
/* harmony import */ var core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_24__);
/* harmony import */ var _services_ContextService__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(302);


























function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }

function _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }



var EbZipCodeInput = /*#__PURE__*/function (_HTMLElement) {
  _inherits(EbZipCodeInput, _HTMLElement);

  var _super = _createSuper(EbZipCodeInput);

  function EbZipCodeInput() {
    var _this;

    _classCallCheck(this, EbZipCodeInput);

    _this = _super.call(this);
    _this._elements = {
      submitButton: null,
      inputField: null
    };
    return _this;
  }

  _createClass(EbZipCodeInput, [{
    key: "connectedCallback",
    value: function connectedCallback() {
      this.render();
    }
  }, {
    key: "render",
    value: function render() {
      var tempHtml = "<style>#eb-zip-code-input-container{height:100%;width:100%;display:flex;align-items:center;justify-content:space-between}#eb-zip-code-input-field{width:100%;max-width:unset}#eb-zip-code-submit-button{white-space:nowrap}@media (max-width:767px){#eb-zip-code-submit-button{padding:14px 20px}}@media (min-width:768px){#eb-zip-code-submit-button{padding:18px 32px}}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none}input[type=number]{-moz-appearance:textfield}</style><div id=\"eb-zip-code-input-container\"><input type=\"tel\" class=\"eb-text-field cta-field w-input\" placeholder=\"Zip Code\" id=\"eb-zip-code-input-field\" pattern=\"[0-9-]*\" maxlength=\"10\" required> <a href=\"#\" class=\"eb-button hero-button w-button\" id=\"eb-zip-code-submit-button\">Get Started</a></div>";
      this.innerHTML = tempHtml;
      this.setElementVars();
      this.setElementListeners();
    }
  }, {
    key: "setElementVars",
    value: function setElementVars() {
      this._elements.submitButton = this.querySelector('#eb-zip-code-submit-button');
      this._elements.inputField = this.querySelector('#eb-zip-code-input-field');
    }
  }, {
    key: "setElementListeners",
    value: function setElementListeners() {
      var _this2 = this;

      this._elements.submitButton.addEventListener('click', this.submitZipCode.bind(this));

      this._elements.inputField.addEventListener('keydown', function (event) {
        if (event.key === 'Enter') {
          _this2.submitZipCode();
        }
      });
    }
  }, {
    key: "submitZipCode",
    value: function submitZipCode() {
      var _this3 = this;

      this._elements.inputField.setCustomValidity('');

      var inputZipCode = this._elements.inputField.value;
      var zipCode = this.trimmedZipCode(inputZipCode);

      if (this.isValidZipCode(zipCode) && this._elements.inputField.checkValidity()) {
        _services_ContextService__WEBPACK_IMPORTED_MODULE_25__[/* contextService */ "a"].fetchContext().then(function () {
          _services_ContextService__WEBPACK_IMPORTED_MODULE_25__[/* contextService */ "a"].setZipCode(zipCode).then(function () {
            window.location.href = _this3.destination || '/app.html#/?ftype=ZIP_CODE';
          });
        });
      } else {
        this._elements.inputField.setCustomValidity('Please enter a valid 5-digit zip code.');

        this._elements.inputField.reportValidity();
      }
    }
  }, {
    key: "isValidZipCode",
    value: function isValidZipCode(value) {
      return /^[0-9]{5}?$/.test(value);
    }
  }, {
    key: "trimmedZipCode",
    value: function trimmedZipCode(inputZipCode) {
      if (inputZipCode.length > 5) {
        inputZipCode = inputZipCode.substr(0, 5);
      }

      return inputZipCode;
    }
  }, {
    key: "destination",
    get: function get() {
      return this.getAttribute('destination');
    },
    set: function set(newValue) {
      if (newValue && newValue !== 'null' && newValue !== 'undefined') {
        this.setAttribute('destination', newValue);
      }
    }
  }]);

  return EbZipCodeInput;
}( /*#__PURE__*/_wrapNativeSuper(HTMLElement));

if (!window.customElements.get('eb-zip-code-input')) {
  window.customElements.define('eb-zip-code-input', EbZipCodeInput);
}

/***/ }),

/***/ 272:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */



/**
 * Module exports.
 * @public
 */

exports.parse = parse;
exports.serialize = serialize;

/**
 * Module variables.
 * @private
 */

var decode = decodeURIComponent;
var encode = encodeURIComponent;
var pairSplitRegExp = /; */;

/**
 * RegExp to match field-content in RFC 7230 sec 3.2
 *
 * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]
 * field-vchar   = VCHAR / obs-text
 * obs-text      = %x80-FF
 */

var fieldContentRegExp = /^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;

/**
 * Parse a cookie header.
 *
 * Parse the given cookie header string into an object
 * The object has the various cookies as keys(names) => values
 *
 * @param {string} str
 * @param {object} [options]
 * @return {object}
 * @public
 */

function parse(str, options) {
  if (typeof str !== 'string') {
    throw new TypeError('argument str must be a string');
  }

  var obj = {}
  var opt = options || {};
  var pairs = str.split(pairSplitRegExp);
  var dec = opt.decode || decode;

  for (var i = 0; i < pairs.length; i++) {
    var pair = pairs[i];
    var eq_idx = pair.indexOf('=');

    // skip things that don't look like key=value
    if (eq_idx < 0) {
      continue;
    }

    var key = pair.substr(0, eq_idx).trim()
    var val = pair.substr(++eq_idx, pair.length).trim();

    // quoted values
    if ('"' == val[0]) {
      val = val.slice(1, -1);
    }

    // only assign once
    if (undefined == obj[key]) {
      obj[key] = tryDecode(val, dec);
    }
  }

  return obj;
}

/**
 * Serialize data into a cookie header.
 *
 * Serialize the a name value pair into a cookie string suitable for
 * http headers. An optional options object specified cookie parameters.
 *
 * serialize('foo', 'bar', { httpOnly: true })
 *   => "foo=bar; httpOnly"
 *
 * @param {string} name
 * @param {string} val
 * @param {object} [options]
 * @return {string}
 * @public
 */

function serialize(name, val, options) {
  var opt = options || {};
  var enc = opt.encode || encode;

  if (typeof enc !== 'function') {
    throw new TypeError('option encode is invalid');
  }

  if (!fieldContentRegExp.test(name)) {
    throw new TypeError('argument name is invalid');
  }

  var value = enc(val);

  if (value && !fieldContentRegExp.test(value)) {
    throw new TypeError('argument val is invalid');
  }

  var str = name + '=' + value;

  if (null != opt.maxAge) {
    var maxAge = opt.maxAge - 0;
    if (isNaN(maxAge)) throw new Error('maxAge should be a Number');
    str += '; Max-Age=' + Math.floor(maxAge);
  }

  if (opt.domain) {
    if (!fieldContentRegExp.test(opt.domain)) {
      throw new TypeError('option domain is invalid');
    }

    str += '; Domain=' + opt.domain;
  }

  if (opt.path) {
    if (!fieldContentRegExp.test(opt.path)) {
      throw new TypeError('option path is invalid');
    }

    str += '; Path=' + opt.path;
  }

  if (opt.expires) {
    if (typeof opt.expires.toUTCString !== 'function') {
      throw new TypeError('option expires is invalid');
    }

    str += '; Expires=' + opt.expires.toUTCString();
  }

  if (opt.httpOnly) {
    str += '; HttpOnly';
  }

  if (opt.secure) {
    str += '; Secure';
  }

  if (opt.sameSite) {
    var sameSite = typeof opt.sameSite === 'string'
      ? opt.sameSite.toLowerCase() : opt.sameSite;

    switch (sameSite) {
      case true:
        str += '; SameSite=Strict';
        break;
      case 'lax':
        str += '; SameSite=Lax';
        break;
      case 'strict':
        str += '; SameSite=Strict';
        break;
      default:
        throw new TypeError('option sameSite is invalid');
    }
  }

  return str;
}

/**
 * Try decoding a string using a decoding function.
 *
 * @param {string} str
 * @param {function} decode
 * @private
 */

function tryDecode(str, decode) {
  try {
    return decode(str);
  } catch (e) {
    return str;
  }
}


/***/ }),

/***/ 283:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return storageService; });
/* harmony import */ var universal_cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(285);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }



var StorageService = /*#__PURE__*/function () {
  function StorageService() {
    _classCallCheck(this, StorageService);

    this._inMemoryMap = {};
    this._cookies = new universal_cookie__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"]();
    this._isSessionStorageAvailable = this.checkSessionStorageAvailable();
    this._isLocalStorageAvailable = this.checkLocalStorageAvailable();
  }

  _createClass(StorageService, [{
    key: "setSessionAndCookie",
    value: function setSessionAndCookie(key, value) {
      if (this._isSessionStorageAvailable) {
        sessionStorage.setItem(key, value);
      }

      this._cookies.set(key, value, {
        path: '/'
      });

      this._inMemoryMap[key] = value;
    }
  }, {
    key: "getFromSessionOrCookie",
    value: function getFromSessionOrCookie(key) {
      var returnVal = this._inMemoryMap[key];

      if (!returnVal && this._isSessionStorageAvailable) {
        returnVal = sessionStorage.getItem(key);
      }

      if (!returnVal) {
        returnVal = this._cookies.get(key);
      }

      return returnVal;
    }
  }, {
    key: "getFromStorageOrCookie",
    value: function getFromStorageOrCookie(key) {
      var returnVal = this._inMemoryMap[key];

      if (!returnVal && this._isLocalStorageAvailable) {
        returnVal = localStorage.getItem(key);
      }

      if (!returnVal) {
        returnVal = this._cookies.get(key);
      }

      return returnVal;
    }
  }, {
    key: "setStorageAndCookie",
    value: function setStorageAndCookie(key, value) {
      if (this._isLocalStorageAvailable) {
        localStorage.setItem(key, value);
      }

      this._cookies.set(key, value, {
        path: '/'
      });

      this._inMemoryMap[key] = value;
    }
  }, {
    key: "setCookie",
    value: function setCookie(key, value, options) {
      this._cookies.set(key, value, options);
    }
  }, {
    key: "getCookie",
    value: function getCookie(key) {
      return this._cookies.get(key);
    }
  }, {
    key: "removeCookie",
    value: function removeCookie(key) {
      this._cookies.remove(key);
    }
  }, {
    key: "checkSessionStorageAvailable",
    value: function checkSessionStorageAvailable() {
      var test = 'test';

      try {
        sessionStorage.setItem(test, test);
        sessionStorage.getItem(test);
        sessionStorage.removeItem(test);
        return true;
      } catch (e) {
        return false;
      }
    }
  }, {
    key: "checkLocalStorageAvailable",
    value: function checkLocalStorageAvailable() {
      var testValue = 'testValue';

      try {
        localStorage.setItem(testValue, testValue);
        localStorage.getItem(testValue);
        localStorage.removeItem(testValue);
        return true;
      } catch (e) {
        return false;
      }
    }
  }]);

  return StorageService;
}();

var storageService = new StorageService();

/***/ }),

/***/ 284:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/


/* eslint-disable no-unused-vars */
var getOwnPropertySymbols = Object.getOwnPropertySymbols;
var hasOwnProperty = Object.prototype.hasOwnProperty;
var propIsEnumerable = Object.prototype.propertyIsEnumerable;

function toObject(val) {
	if (val === null || val === undefined) {
		throw new TypeError('Object.assign cannot be called with null or undefined');
	}

	return Object(val);
}

function shouldUseNative() {
	try {
		if (!Object.assign) {
			return false;
		}

		// Detect buggy property enumeration order in older V8 versions.

		// https://bugs.chromium.org/p/v8/issues/detail?id=4118
		var test1 = new String('abc');  // eslint-disable-line no-new-wrappers
		test1[5] = 'de';
		if (Object.getOwnPropertyNames(test1)[0] === '5') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test2 = {};
		for (var i = 0; i < 10; i++) {
			test2['_' + String.fromCharCode(i)] = i;
		}
		var order2 = Object.getOwnPropertyNames(test2).map(function (n) {
			return test2[n];
		});
		if (order2.join('') !== '0123456789') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test3 = {};
		'abcdefghijklmnopqrst'.split('').forEach(function (letter) {
			test3[letter] = letter;
		});
		if (Object.keys(Object.assign({}, test3)).join('') !==
				'abcdefghijklmnopqrst') {
			return false;
		}

		return true;
	} catch (err) {
		// We don't expect any of the above to throw, but better to be safe.
		return false;
	}
}

module.exports = shouldUseNative() ? Object.assign : function (target, source) {
	var from;
	var to = toObject(target);
	var symbols;

	for (var s = 1; s < arguments.length; s++) {
		from = Object(arguments[s]);

		for (var key in from) {
			if (hasOwnProperty.call(from, key)) {
				to[key] = from[key];
			}
		}

		if (getOwnPropertySymbols) {
			symbols = getOwnPropertySymbols(from);
			for (var i = 0; i < symbols.length; i++) {
				if (propIsEnumerable.call(from, symbols[i])) {
					to[symbols[i]] = from[symbols[i]];
				}
			}
		}
	}

	return to;
};


/***/ }),

/***/ 285:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXTERNAL MODULE: ./node_modules/cookie/index.js
var cookie = __webpack_require__(272);

// CONCATENATED MODULE: ./node_modules/universal-cookie/es6/utils.js

function hasDocumentCookie() {
    // Can we get/set cookies on document.cookie?
    return typeof document === 'object' && typeof document.cookie === 'string';
}
function cleanCookies() {
    document.cookie.split(';').forEach(function (c) {
        document.cookie = c
            .replace(/^ +/, '')
            .replace(/=.*/, '=;expires=' + new Date().toUTCString() + ';path=/');
    });
}
function parseCookies(cookies) {
    if (typeof cookies === 'string') {
        return cookie["parse"](cookies);
    }
    else if (typeof cookies === 'object' && cookies !== null) {
        return cookies;
    }
    else {
        return {};
    }
}
function isParsingCookie(value, doNotParse) {
    if (typeof doNotParse === 'undefined') {
        // We guess if the cookie start with { or [, it has been serialized
        doNotParse =
            !value || (value[0] !== '{' && value[0] !== '[' && value[0] !== '"');
    }
    return !doNotParse;
}
function readCookie(value, options) {
    if (options === void 0) { options = {}; }
    var cleanValue = cleanupCookieValue(value);
    if (isParsingCookie(cleanValue, options.doNotParse)) {
        try {
            return JSON.parse(cleanValue);
        }
        catch (e) {
            // At least we tried
        }
    }
    // Ignore clean value if we failed the deserialization
    // It is not relevant anymore to trim those values
    return value;
}
function cleanupCookieValue(value) {
    // express prepend j: before serializing a cookie
    if (value && value[0] === 'j' && value[1] === ':') {
        return value.substr(2);
    }
    return value;
}

// CONCATENATED MODULE: ./node_modules/universal-cookie/es6/Cookies.js


// We can't please Rollup and TypeScript at the same time
// Only way to make both of them work
var objectAssign = __webpack_require__(284);
var Cookies_Cookies = /** @class */ (function () {
    function Cookies(cookies) {
        this.changeListeners = [];
        this.TESTING_ONETWO = 2;
        this.cookies = parseCookies(cookies);
        this.HAS_DOCUMENT_COOKIE = hasDocumentCookie();
    }
    Cookies.prototype._updateBrowserValues = function () {
        if (!this.HAS_DOCUMENT_COOKIE) {
            return;
        }
        this.cookies = cookie["parse"](document.cookie);
    };
    Cookies.prototype._emitChange = function (params) {
        for (var i = 0; i < this.changeListeners.length; ++i) {
            this.changeListeners[i](params);
        }
    };
    Cookies.prototype.get = function (name, options) {
        if (options === void 0) { options = {}; }
        this._updateBrowserValues();
        return readCookie(this.cookies[name], options);
    };
    Cookies.prototype.getAll = function (options) {
        if (options === void 0) { options = {}; }
        this._updateBrowserValues();
        var result = {};
        for (var name_1 in this.cookies) {
            result[name_1] = readCookie(this.cookies[name_1], options);
        }
        return result;
    };
    Cookies.prototype.set = function (name, value, options) {
        var _a;
        if (typeof value === 'object') {
            value = JSON.stringify(value);
        }
        this.cookies = objectAssign({}, this.cookies, (_a = {}, _a[name] = value, _a));
        if (this.HAS_DOCUMENT_COOKIE) {
            document.cookie = cookie["serialize"](name, value, options);
        }
        this._emitChange({ name: name, value: value, options: options });
    };
    Cookies.prototype.remove = function (name, options) {
        var finalOptions = (options = objectAssign({}, options, {
            expires: new Date(1970, 1, 1, 0, 0, 1),
            maxAge: 0
        }));
        this.cookies = objectAssign({}, this.cookies);
        delete this.cookies[name];
        if (this.HAS_DOCUMENT_COOKIE) {
            document.cookie = cookie["serialize"](name, '', finalOptions);
        }
        this._emitChange({ name: name, value: undefined, options: options });
    };
    Cookies.prototype.addChangeListener = function (callback) {
        this.changeListeners.push(callback);
    };
    Cookies.prototype.removeChangeListener = function (callback) {
        var idx = this.changeListeners.indexOf(callback);
        if (idx >= 0) {
            this.changeListeners.splice(idx, 1);
        }
    };
    return Cookies;
}());
/* harmony default export */ var es6_Cookies = (Cookies_Cookies);

// CONCATENATED MODULE: ./node_modules/universal-cookie/es6/index.js

/* harmony default export */ var es6 = __webpack_exports__["a"] = (es6_Cookies);


/***/ }),

/***/ 289:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, "a", function() { return /* binding */ axiosService; });

// EXTERNAL MODULE: ./node_modules/axios/index.js
var axios = __webpack_require__(271);
var axios_default = /*#__PURE__*/__webpack_require__.n(axios);

// EXTERNAL MODULE: ./staging/services/StorageService.js
var StorageService = __webpack_require__(283);

// CONCATENATED MODULE: ./staging/services/GoogleAnalyticsService.js
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

var GoogleAnalyticsService = /*#__PURE__*/function () {
  function GoogleAnalyticsService() {
    _classCallCheck(this, GoogleAnalyticsService);

    this._googleClientId = null;
  }

  _createClass(GoogleAnalyticsService, [{
    key: "getGoogleClientId",
    value: function getGoogleClientId() {
      if (this._googleClientId) {
        return this._googleClientId;
      }

      if (window.ga && window.ga.getAll) {
        try {
          var trackers = window.ga.getAll();
          var i, len;

          for (i = 0, len = trackers.length; i < len; i += 1) {
            if (trackers[i].get('trackingId') === 'UA-112217853-1' || trackers[i].get('trackingId') === 'UA-111293473-2') {
              this._googleClientId = trackers[i].get('clientId');
              return this._googleClientId;
            }
          }
        } catch (err) {
          console.log(err);
        }
      }

      return null;
    }
  }]);

  return GoogleAnalyticsService;
}();

var googleAnalyticsService = new GoogleAnalyticsService();
// CONCATENATED MODULE: ./staging/services/AxiosService.js
function AxiosService_classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function AxiosService_defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function AxiosService_createClass(Constructor, protoProps, staticProps) { if (protoProps) AxiosService_defineProperties(Constructor.prototype, protoProps); if (staticProps) AxiosService_defineProperties(Constructor, staticProps); return Constructor; }





var AxiosService_AxiosService = /*#__PURE__*/function () {
  function AxiosService() {
    AxiosService_classCallCheck(this, AxiosService);

    this._axios = axios_default.a;
    this.setInterceptors();
  }

  AxiosService_createClass(AxiosService, [{
    key: "setInterceptors",
    value: function setInterceptors() {
      // request interceptor
      this._axios.interceptors.request.use(function (config) {
        if (StorageService["a" /* storageService */].getFromSessionOrCookie('EBTID')) {
          config.headers.common['X-B3-TraceId'] = StorageService["a" /* storageService */].getFromSessionOrCookie('EBTID');
          config.headers.common['X-B3-SpanId'] = StorageService["a" /* storageService */].getFromSessionOrCookie('EBTID');
        }

        if (StorageService["a" /* storageService */].getFromSessionOrCookie('eb_u_tid')) {
          config.headers.common['X-Eb-U-Tid'] = StorageService["a" /* storageService */].getFromSessionOrCookie('eb_u_tid');
        }

        if (StorageService["a" /* storageService */].getFromSessionOrCookie('session-id')) {
          config.headers.common['x-shopping-token'] = StorageService["a" /* storageService */].getFromSessionOrCookie('session-id');
        }

        var googleClientId = googleAnalyticsService.getGoogleClientId();

        if (googleClientId) {
          config.headers.common['x-google-id'] = googleClientId;
        }

        return config;
      }); // response interceptor


      this._axios.interceptors.response.use(function (response) {
        var newTraceId = response.headers['ebtraceid'];
        StorageService["a" /* storageService */].setSessionAndCookie('EBTID', newTraceId);
        var shoppingToken = response.headers['x-shopping-token'];

        if (shoppingToken) {
          StorageService["a" /* storageService */].setSessionAndCookie('session-id', shoppingToken);
        }

        return response;
      });
    }
  }, {
    key: "get",
    value: function get(url) {
      return this._axios.get(url);
    }
  }, {
    key: "put",
    value: function put(url, data) {
      return this._axios.put(url, data);
    }
  }, {
    key: "post",
    value: function post(url, data) {
      return this._axios.post(url, data);
    }
  }]);

  return AxiosService;
}();

var axiosService = new AxiosService_AxiosService();

/***/ }),

/***/ 302:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return contextService; });
/* harmony import */ var core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(119);
/* harmony import */ var core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(128);
/* harmony import */ var core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _AxiosService__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(289);



function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }



var ContextService = /*#__PURE__*/function () {
  function ContextService() {
    _classCallCheck(this, ContextService);

    this._context = null;
  }

  _createClass(ContextService, [{
    key: "resetContext",
    value: function resetContext() {
      return _AxiosService__WEBPACK_IMPORTED_MODULE_2__[/* axiosService */ "a"].get('/api/context/reset');
    }
  }, {
    key: "fetchContext",
    value: function fetchContext() {
      var _this = this;

      return _AxiosService__WEBPACK_IMPORTED_MODULE_2__[/* axiosService */ "a"].get('/api/context').then(function (_ref) {
        var data = _ref.data;
        _this._context = data;
      }).catch(function () {
        return Promise.reject(new Error('Failed getting context'));
      });
    }
  }, {
    key: "saveContext",
    value: function saveContext() {
      return _AxiosService__WEBPACK_IMPORTED_MODULE_2__[/* axiosService */ "a"].put('/api/context', this._context).then(function () {
        return Promise.resolve();
      }).catch(function () {
        return Promise.reject(new Error('Failed updating context'));
      });
    }
  }, {
    key: "setZipCode",
    value: function setZipCode(zipCode) {
      if (this._context) {
        this._context.zipCode = zipCode;
        return this.saveContext();
      } else {
        return Promise.reject(new Error('Context is has not been set.'));
      }
    }
  }, {
    key: "setAddress",
    value: function setAddress(serviceLocation) {
      if (this._context) {
        this._context.zipCode = serviceLocation[0].address.zipCode;
        this._context.serviceLocations = serviceLocation;
        return this.saveContext();
      } else {
        return Promise.reject(new Error('Context is has not been set.'));
      }
    }
  }, {
    key: "setReferralCode",
    value: function setReferralCode(refCode) {
      if (this._context) {
        this._context.referralSource = refCode;
        return this.saveContext();
      } else {
        return Promise.reject(new Error('Context is has not been set.'));
      }
    }
  }, {
    key: "setAnnualUsage",
    value: function setAnnualUsage(annualUsage) {
      if (this._context) {
        this._context.estimatedAnnualUsage = annualUsage;
        return this.saveContext();
      } else {
        return Promise.reject(new Error('Context has not been set.'));
      }
    }
  }, {
    key: "setServiceLocationFromProspect",
    value: function setServiceLocationFromProspect(prospect) {
      if (this._context) {
        this._context.zipCode = prospect.zipCode;
        this._context.serviceLocations = [];
        this._context.customerType = prospect.business ? 'BUSINESS' : 'RESIDENTIAL';
        this._context.serviceLocations[0] = {
          description: prospect.businessName,
          address: {
            street: prospect.street,
            street2: prospect.street2,
            city: prospect.city,
            state: prospect.state,
            zipCode: prospect.zipCode
          },
          accountNumber: prospect.utilityAccountNumber,
          utility: prospect.utilityCode,
          rateClass: prospect.rateClass,
          customerDataId: prospect.id,
          demand: prospect.peakDemand,
          nspl: prospect.nspl,
          plc: prospect.plc
        };
        return this.saveContext();
      } else {
        return Promise.reject(new Error('Context is has not been set.'));
      }
    }
  }]);

  return ContextService;
}();

var contextService = new ContextService();

/***/ })

}]);